[Extension Host] 🎯 Start server command triggered
console.ts:137 [Extension Host] ⚙️ Server configuration: {port: 8080}
console.ts:137 [Extension Host] 🚀 Creating VSCoder server instance...
console.ts:137 [Extension Host] 🌐 VSCoderServer constructor called with port: 8080
console.ts:137 [Extension Host] 🔍 DEBUG DiscoveryService.fromConfig():
console.ts:137 [Extension Host] 🔍 - API URL: https://api.vscodercopilot.com.tr
console.ts:137 [Extension Host] 🔍 - Device Token from config: EXISTS
console.ts:137 [Extension Host] 🔍 - Pairing Code from config: 
console.ts:137 [Extension Host] 🧹 Clearing stored device token from config to force fresh authentication
console.ts:137 [Extension Host] 🔗 API Client initialized: {url: 'https://api.vscodercopilot.com.tr', pollingInterval: 3000, timeout: 10000, hasDiscoveryService: true}
console.ts:137 [Extension Host] ✅ VSCoderServer constructor completed
console.ts:137 [Extension Host] 🖥️ Initializing terminal session management...
console.ts:137 [Extension Host] ✅ Terminal session management initialized
console.ts:137 [Extension Host] 📡 Starting server...
console.ts:137 [Extension Host] 🚀 Starting VSCoder WebSocket communication...
console.ts:137 [Extension Host] 🔐 Authenticating with discovery service...
console.ts:137 [Extension Host] 🔐 Starting authentication process...
console.ts:137 [Extension Host] 🔑 Current authentication state: {isAuthenticated: false, hasDeviceToken: false, deviceTokenLength: 0, deviceTokenPreview: 'none'}
console.ts:137 [Extension Host] 🔐 Authenticating VS Code extension with Discovery API...
console.ts:137 [Extension Host] 🔑 Current device token before auth: undefined
console.ts:137 [Extension Host] 🔑 Pairing code: 202489
console.ts:137 [Extension Host] 📤 Sending auth request: {device_type: 'vscode', device_name: "EB's Windows_NT", pairing_code: '202489'}
console.ts:137 [Extension Host] ✅ Old device token cleared from config
console.ts:137 [Extension Host] 📥 Auth response: {data: {…}, message: 'Device token generated successfully', success: true}
console.ts:137 [Extension Host] ✅ VS Code extension authenticated successfully
console.ts:137 [Extension Host] 🔑 New device token: 016f90ba0698c8320c66... (length: 64)
console.ts:137 [Extension Host] 🔑 Token expires: 2025-09-18T21:13:51.73110737Z
console.ts:137 [Extension Host] 💾 Device token saved to VS Code configuration
console.ts:137 [Extension Host] 📝 Registering with discovery service...
console.ts:137 [Extension Host] 🌐 Getting public IP address for remote access...
console.ts:137 [Extension Host] 🔍 Trying IP service: https://api.ipify.org
console.ts:137 [Extension Host] ✅ Got public IP from https://api.ipify.org: 95.10.7.131
console.ts:137 [Extension Host] 🔐 Registering VS Code extension with discovery service: {pairingCode: '202489', ipAddress: '95.10.7.131:8080', deviceName: "EB's Windows_NT", authenticated: true}
console.ts:137 [Extension Host] 📱 VSCoder ready for remote access! Pairing code: 202489
console.ts:137 [Extension Host] Share this code with your mobile app to connect securely from anywhere via Discovery API.
console.ts:137 [Extension Host] ✅ VS Code extension registered successfully
console.ts:137 [Extension Host] 📡 Setting up remote WebSocket communication...
console.ts:137 [Extension Host] 🧪 API connection test: Success {status: 'ok', version: '1.0.0', database: 'connected', uptime: '1m12.824441487s', pubsub: 'enabled'}
console.ts:137 [Extension Host] 🔑 Setting up WebSocket with fresh credentials after authentication... {pairingCode: '202489', hasToken: true, tokenLength: 64, tokenPreview: '016f90ba...', isAuthenticated: true}
console.ts:137 [Extension Host] 🔌 Attempting to connect to Discovery API WebSocket...
console.ts:137 [Extension Host] 🔌 Connecting to Discovery API WebSocket with real credentials...
console.ts:137 [Extension Host] 🔑 Using pairing code: 202489
console.ts:137 [Extension Host] 🔑 Device token length: 64
console.ts:137 [Extension Host] 🔑 Device token starts with: 016f90ba...
console.ts:137 [Extension Host] 🔗 WebSocket URL: wss://api.vscodercopilot.com.tr/api/v1/messages/ws?token=***TOKEN***&pairing_code=202489&device_type=vscode
console.ts:137 [Extension Host] 🎉 WebSocket connection established successfully!
console.ts:137 [Extension Host] 💓 Starting WebSocket health monitoring...
console.ts:137 [Extension Host] ✅ WebSocket-based communication setup completed and listening
console.ts:137 [Extension Host] ⏳ Chat sync monitoring is OFF by default - waiting for mobile app requests
console.ts:137 [Extension Host] ⏳ Chat sync will start when mobile app requests it
console.ts:137 [Extension Host] ✅ Discovery service authentication and registration completed
console.ts:137 [Extension Host] 🎉 VSCoder WebSocket communication started successfully
console.ts:137 [Extension Host] ✅ Server started successfully on port 8080
console.ts:137 [Extension Host] 🔍 DEBUG getPairingCode() called:
console.ts:137 [Extension Host] 🔍 - Current pairing code from discovery service: 202489
console.ts:137 [Extension Host] 🔍 - Pairing code from VS Code config: 
console.ts:137 [Extension Host] ✅ Start server command completed successfully
console.ts:137 [Extension Host] ✅ VS Code extension connected to Discovery API WebSocket with authentication
console.ts:137 [Extension Host] ✅ WebSocket connected to Discovery API
console.ts:137 [Extension Host] 🔍 send() called with message: ping undefined
console.ts:137 [Extension Host] 🔍 WebSocket connection status: {isConnected: true, hasWebSocket: true, readyState: 1}
console.ts:137 [Extension Host] 📤 Sending WebSocket message: ping undefined
console.ts:137 [Extension Host] 📤 Full message being sent: {"type":"ping","timestamp":"2025-09-17T21:13:52.743Z","sender":"vscode","target":"202489"}
console.ts:137 [Extension Host] ✅ Message sent successfully via WebSocket
console.ts:137 [Extension Host] 📨 Received WebSocket message: pong undefined
console.ts:137 [Extension Host] 📨 RAW WebSocket message data: {"type":"pong","timestamp":"2025-09-17T21:13:52.719104427Z"}
console.ts:137 [Extension Host] 📨 Parsed WebSocket message: {
  "type": "pong",
  "timestamp": "2025-09-17T21:13:52.719104427Z"
}
console.ts:137 [Extension Host] � Received WebSocket message: pong undefined
console.ts:137 [Extension Host] 🔧 Mobile troubleshooting command triggered
console.ts:137 [Extension Host] 🔍 DEBUG getPairingCode() called:
console.ts:137 [Extension Host] 🔍 - Current pairing code from discovery service: 202489
console.ts:137 [Extension Host] 🔍 - Pairing code from VS Code config: 
console.ts:137 [Extension Host] ✅ Everything looks good!
console.ts:137 [Extension Host] Diagnostics: 🖥️ VS Code Extension: ✅ Running
🔌 Server Port: 8080
📱 Pairing Code: 202489
🌐 Discovery Registration: ✅ Registered
🔗 Discovery Service URL: https://api.vscodercopilot.com.tr
📂 Workspace: 1 folder(s) open
🔒 Workspace Trusted: ✅ Yes